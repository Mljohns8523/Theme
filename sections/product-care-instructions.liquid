{% schema %}
{
  "name": "Product Care Instructions",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section Heading",
      "default": "Care Instructions"
    },
    {
      "type": "range",
      "id": "heading_size_desktop",
      "label": "Heading Font Size (Desktop)",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 28
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "label": "Heading Font Size (Mobile)",
      "min": 14,
      "max": 36,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#222222"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Follow these care instructions to keep your product in top condition."
    },
    {
      "type": "range",
      "id": "description_size_desktop",
      "label": "Description Font Size (Desktop)",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "description_size_mobile",
      "label": "Description Font Size (Mobile)",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#555555"
    },
    {
      "type": "header",
      "content": "Care Instructions List"
    },
    {
      "type": "text",
      "id": "instruction_1",
      "label": "Instruction 1",
      "default": "Machine wash cold with similar colors."
    },
    {
      "type": "text",
      "id": "instruction_1_icon",
      "label": "Instruction 1 Icon (Font Awesome Name)",
      "default": "fas fa-check-circle",
      "info": "Enter a Font Awesome icon name (e.g., 'fas fa-check-circle', 'fas fa-wash'). See https://fontawesome.com/icons."
    },
    {
      "type": "text",
      "id": "instruction_2",
      "label": "Instruction 2",
      "default": "Tumble dry on low heat."
    },
    {
      "type": "text",
      "id": "instruction_2_icon",
      "label": "Instruction 2 Icon (Font Awesome Name)",
      "default": "fas fa-check-circle"
    },
    {
      "type": "text",
      "id": "instruction_3",
      "label": "Instruction 3",
      "default": "Do not iron or dry clean."
    },
    {
      "type": "text",
      "id": "instruction_3_icon",
      "label": "Instruction 3 Icon (Font Awesome Name)",
      "default": "fas fa-check-circle"
    },
    {
      "type": "text",
      "id": "instruction_4",
      "label": "Instruction 4",
      "default": "Avoid bleach and harsh detergents."
    },
    {
      "type": "text",
      "id": "instruction_4_icon",
      "label": "Instruction 4 Icon (Font Awesome Name)",
      "default": "fas fa-check-circle"
    },
    {
      "type": "range",
      "id": "instruction_size_desktop",
      "label": "Instruction Font Size (Desktop)",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "instruction_size_mobile",
      "label": "Instruction Font Size (Mobile)",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 14
    },
    {
      "type": "color",
      "id": "instruction_color",
      "label": "Instruction Text Color",
      "default": "#333333"
    },
    {
      "type": "header",
      "content": "Section Styling"
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "Section Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon Size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 24
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon Color",
      "default": "#2ECC71"
    }
  ],
  "presets": [
    {
      "name": "Product Care Instructions"
    }
  ]
}
{% endschema %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400&display=swap">

<style>
  .product-care-instructions {
    font-family: 'Roboto', sans-serif;
    background-color: {{ section.settings.section_background_color }};
    padding: 40px 20px;
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    isolation: isolate; /* Prevents CSS conflicts */
    overflow: hidden;
  }
  .product-care-instructions__wrapper {
    position: relative;
    z-index: 1;
  }
  .product-care-instructions__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, rgba(46, 204, 113, 0.05), transparent 70%);
    pointer-events: none;
  }
  .product-care-instructions__heading {
    font-family: 'Playfair Display', serif;
    font-size: {{ section.settings.heading_size_desktop }}px;
    font-weight: 700;
    color: {{ section.settings.heading_color }};
    text-align: center;
    margin: 0 0 16px;
    letter-spacing: 0.03em;
  }
  .product-care-instructions__heading::after {
    content: '';
    display: block;
    width: 60px;
    height: 2px;
    background: {{ section.settings.icon_color }};
    margin: 12px auto;
    opacity: 0.7;
  }
  .product-care-instructions__description {
    font-size: {{ section.settings.description_size_desktop }}px;
    color: {{ section.settings.description_color }};
    text-align: center;
    max-width: 600px;
    margin: 0 auto 32px;
    line-height: 1.6;
    font-weight: 300;
  }
  .product-care-instructions__list {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 0;
  }
  .product-care-instructions__item {
    font-size: {{ section.settings.instruction_size_desktop }}px;
    color: {{ section.settings.instruction_color }};
    display: flex;
    align-items: center;
    padding: 20px;
    background: #FFFFFF;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .product-care-instructions__item:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
  }
  .product-care-instructions__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: {{ section.settings.icon_color | append: '20' }};
    border-radius: 50%;
    margin-right: 16px;
    flex-shrink: 0;
    transition: background-color 0.3s ease;
  }
  .product-care-instructions__item:hover .product-care-instructions__icon {
    background: {{ section.settings.icon_color | append: '40' }};
  }
  .product-care-instructions__icon i {
    font-family: 'Font Awesome 6 Free' !important;
    font-size: {{ section.settings.icon_size }}px;
    color: {{ section.settings.icon_color }};
    font-weight: 900;
  }
  .product-care-instructions__text {
    font-weight: 400;
    line-height: 1.5;
  }
  /* Remove problematic pseudo-elements from original */
  .product-care-instructions__item--1 .fa,
  .product-care-instructions__item--2 .fa,
  .product-care-instructions__item--3 .fa,
  .product-care-instructions__item--4 .fa {
    display: inline-block;
  }

  @media (max-width: 767px) {
    .product-care-instructions {
      padding: 24px 16px;
    }
    .product-care-instructions__heading {
      font-size: {{ section.settings.heading_size_mobile }}px;
    }
    .product-care-instructions__description {
      font-size: {{ section.settings.description_size_mobile }}px;
    }
    .product-care-instructions__list {
      grid-template-columns: 1fr;
      gap: 16px;
    }
    .product-care-instructions__item {
      font-size: {{ section.settings.instruction_size_mobile }}px;
      padding: 16px;
      margin: 0;
      text-align: left;
    }
    .product-care-instructions__icon {
      width: 36px;
      height: 36px;
      margin-right: 12px;
    }
  }
</style>

<section class="product-care-instructions">
  <div class="product-care-instructions__wrapper">
    <div class="product-care-instructions__background"></div>
    {% if section.settings.heading != blank %}
      <h2 class="product-care-instructions__heading">{{ section.settings.heading | escape }}</h2>
    {% endif %}

    {% if section.settings.description != blank %}
      <p class="product-care-instructions__description">{{ section.settings.description | escape }}</p>
    {% endif %}

    <ul class="product-care-instructions__list">
      {% if section.settings.instruction_1 != blank %}
        <li class="product-care-instructions__item product-care-instructions__item--1">
          <div class="product-care-instructions__icon">
            <i class="{{ section.settings.instruction_1_icon | escape }}"></i>
          </div>
          <span class="product-care-instructions__text">{{ section.settings.instruction_1 | escape }}</span>
        </li>
      {% endif %}
      {% if section.settings.instruction_2 != blank %}
        <li class="product-care-instructions__item product-care-instructions__item--2">
          <div class="product-care-instructions__icon">
            <i class="{{ section.settings.instruction_2_icon | escape }}"></i>
          </div>
          <span class="product-care-instructions__text">{{ section.settings.instruction_2 | escape }}</span>
        </li>
      {% endif %}
      {% if section.settings.instruction_3 != blank %}
        <li class="product-care-instructions__item product-care-instructions__item--3">
          <div class="product-care-instructions__icon">
            <i class="{{ section.settings.instruction_3_icon | escape }}"></i>
          </div>
          <span class="product-care-instructions__text">{{ section.settings.instruction_3 | escape }}</span>
        </li>
      {% endif %}
      {% if section.settings.instruction_4 != blank %}
        <li class="product-care-instructions__item product-care-instructions__item--4">
          <div class="product-care-instructions__icon">
            <i class="{{ section.settings.instruction_4_icon | escape }}"></i>
          </div>
          <span class="product-care-instructions__text">{{ section.settings.instruction_4 | escape }}</span>
        </li>
      {% endif %}
    </ul>
  </div>
</section>